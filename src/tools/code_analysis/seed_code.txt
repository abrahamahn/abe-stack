===========================================================
DATABASE LAYER CODE EXTRACTION
===========================================================

Total Files: 12
Total Lines: 3020

File Listing:
1. 01_schema.sql (430 lines)
2. 02_users_seed.sql (100 lines)
3. 03_auth_roles_seed.sql (256 lines)
4. 04_social_seed.sql (523 lines)
5. 05_media_seed.sql (269 lines)
6. 06_conversations_seed.sql (329 lines)
7. 07_groups_seed.sql (222 lines)
8. 08_moderation_seed.sql (241 lines)
9. 09_notifications_bookmarks_seed.sql (220 lines)
10. 10_search_indices_seed.sql (347 lines)
11. clear_data.sh (41 lines)
12. run_seed.sh (42 lines)


===========================================================
FILE 1: 01_schema.sql
===========================================================

-- Database Schema for Social Media Application

-- Enable UUID extension
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- Create migrations table
CREATE TABLE IF NOT EXISTS migrations (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  executed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create users table
CREATE TABLE IF NOT EXISTS users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  username VARCHAR(50) UNIQUE NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL,
  display_name VARCHAR(100),
  first_name VARCHAR(50),
  last_name VARCHAR(50),
  bio TEXT,
  profile_image VARCHAR(255),
  banner_image VARCHAR(255),
  role VARCHAR(20) DEFAULT 'user',
  is_verified BOOLEAN DEFAULT FALSE,
  email_confirmed BOOLEAN DEFAULT FALSE,
  email_token VARCHAR(255),
  email_token_expire TIMESTAMP,
  last_email_sent TIMESTAMP,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create roles table
CREATE TABLE IF NOT EXISTS roles (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name VARCHAR(50) UNIQUE NOT NULL,
  description TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create permissions table
CREATE TABLE IF NOT EXISTS permissions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name VARCHAR(100) UNIQUE NOT NULL,
  description TEXT,
  resource VARCHAR(50) NOT NULL,
  action VARCHAR(50) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create role_permissions table
CREATE TABLE IF NOT EXISTS role_permissions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  role_id UUID REFERENCES roles(id) ON DELETE CASCADE,
  permission_id UUID REFERENCES permissions(id) ON DELETE CASCADE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(role_id, permission_id)
);

-- Create user_roles table
CREATE TABLE IF NOT EXISTS user_roles (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  role_id UUID REFERENCES roles(id) ON DELETE CASCADE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(user_id, role_id)
);

-- Create tokens table
CREATE TABLE IF NOT EXISTS tokens (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  token VARCHAR(255) UNIQUE NOT NULL,
  type VARCHAR(50) NOT NULL,
  device_info TEXT,
  ip_address VARCHAR(50),
  expires_at TIMESTAMP NOT NULL,
  last_used_at TIMESTAMP,
  revoked BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create password_reset_tokens table
CREATE TABLE IF NOT EXISTS password_reset_tokens (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  token VARCHAR(255) NOT NULL,
  expires_at TIMESTAMP NOT NULL,
  status VARCHAR(20) NOT NULL,
  used_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create posts table
CREATE TABLE IF NOT EXISTS posts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  content TEXT,
  type VARCHAR(20) DEFAULT 'post',
  status VARCHAR(20) DEFAULT 'draft',
  visibility VARCHAR(20) DEFAULT 'public',
  location JSONB,
  media_ids JSONB DEFAULT '[]'::jsonb,
  metadata JSONB DEFAULT '{}'::jsonb,
  like_count INTEGER DEFAULT 0,
  comment_count INTEGER DEFAULT 0,
  share_count INTEGER DEFAULT 0,
  view_count INTEGER DEFAULT 0,
  is_edited BOOLEAN DEFAULT FALSE,
  is_pinned BOOLEAN DEFAULT FALSE,
  parent_id UUID REFERENCES posts(id) ON DELETE SET NULL,
  original_post_id UUID REFERENCES posts(id) ON DELETE SET NULL,
  scheduled_at TIMESTAMP,
  published_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create comments table
CREATE TABLE IF NOT EXISTS comments (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  target_id UUID NOT NULL,
  target_type VARCHAR(20) NOT NULL,
  parent_id UUID REFERENCES comments(id) ON DELETE SET NULL,
  content TEXT NOT NULL,
  status VARCHAR(20) DEFAULT 'published',
  like_count INTEGER DEFAULT 0,
  reply_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create likes table
CREATE TABLE IF NOT EXISTS likes (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  target_id UUID NOT NULL,
  target_type VARCHAR(20) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(user_id, target_id, target_type)
);

-- Create comment_likes table
CREATE TABLE IF NOT EXISTS comment_likes (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  comment_id UUID REFERENCES comments(id) ON DELETE CASCADE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(user_id, comment_id)
);

-- Create follows table
CREATE TABLE IF NOT EXISTS follows (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  follower_id UUID REFERENCES users(id) ON DELETE CASCADE,
  followed_id UUID REFERENCES users(id) ON DELETE CASCADE,
  is_accepted BOOLEAN DEFAULT TRUE,
  is_notification_enabled BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(follower_id, followed_id)
);

-- Create hashtags table
CREATE TABLE IF NOT EXISTS hashtags (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  tag VARCHAR(100) NOT NULL,
  normalized_tag VARCHAR(100) NOT NULL,
  usage_count INTEGER DEFAULT 0,
  is_trending BOOLEAN DEFAULT FALSE,
  recent_usage_count INTEGER DEFAULT 0,
  trending_updated_at TIMESTAMP,
  category VARCHAR(20) DEFAULT 'general',
  related_tags UUID[] DEFAULT '{}',
  metadata JSONB DEFAULT '{}'::jsonb,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(normalized_tag)
);

-- Create notifications table
CREATE TABLE IF NOT EXISTS notifications (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  type VARCHAR(50) NOT NULL,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  actor_id UUID REFERENCES users(id) ON DELETE SET NULL,
  entity_id UUID,
  entity_type VARCHAR(50),
  content TEXT,
  read BOOLEAN DEFAULT FALSE,
  delivered BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create bookmarks table
CREATE TABLE IF NOT EXISTS bookmarks (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  entity_id UUID NOT NULL,
  entity_type VARCHAR(50) NOT NULL,
  notes TEXT,
  collection_id UUID,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(user_id, entity_id, entity_type)
);

-- Create media table
CREATE TABLE IF NOT EXISTS media (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  title VARCHAR(255),
  description TEXT,
  type VARCHAR(20) NOT NULL,
  original_filename VARCHAR(255),
  filename VARCHAR(255) NOT NULL,
  path VARCHAR(255) NOT NULL,
  mime_type VARCHAR(100) NOT NULL,
  size INTEGER NOT NULL,
  width INTEGER,
  height INTEGER,
  duration INTEGER,
  thumbnail_path VARCHAR(255),
  processing_status VARCHAR(20) DEFAULT 'pending',
  is_public BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create media_collections table
CREATE TABLE IF NOT EXISTS media_collections (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  title VARCHAR(255) NOT NULL,
  description TEXT,
  type VARCHAR(50) NOT NULL,
  privacy VARCHAR(50) DEFAULT 'private',
  cover_media_id UUID REFERENCES media(id) ON DELETE SET NULL,
  media_ids JSONB DEFAULT '[]'::jsonb,
  sort_order JSONB,
  metadata JSONB DEFAULT '{}'::jsonb,
  is_official BOOLEAN DEFAULT FALSE,
  item_count INTEGER DEFAULT 0,
  is_deleted BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create media_tags table
CREATE TABLE IF NOT EXISTS media_tags (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name VARCHAR(100) NOT NULL,
  slug VARCHAR(100) UNIQUE NOT NULL,
  description TEXT,
  category VARCHAR(50),
  is_official BOOLEAN DEFAULT FALSE,
  usage_count INTEGER DEFAULT 0,
  parent_tag_id UUID REFERENCES media_tags(id) ON DELETE SET NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create groups table
CREATE TABLE IF NOT EXISTS groups (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name VARCHAR(100) NOT NULL,
  slug VARCHAR(100) UNIQUE NOT NULL,
  description TEXT,
  image_url VARCHAR(255),
  banner_url VARCHAR(255),
  owner_id UUID REFERENCES users(id) ON DELETE CASCADE,
  visibility VARCHAR(20) DEFAULT 'private',
  status VARCHAR(20) DEFAULT 'active',
  rules TEXT,
  metadata JSONB DEFAULT '{}'::jsonb,
  is_verified BOOLEAN DEFAULT FALSE,
  member_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create group_members table
CREATE TABLE IF NOT EXISTS group_members (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  group_id UUID REFERENCES groups(id) ON DELETE CASCADE,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  role VARCHAR(20) DEFAULT 'member',
  status VARCHAR(20) DEFAULT 'approved',
  notification_settings JSONB DEFAULT '{}'::jsonb,
  metadata JSONB DEFAULT '{}'::jsonb,
  last_activity TIMESTAMP,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(group_id, user_id)
);

-- Create conversations table
CREATE TABLE IF NOT EXISTS conversations (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  title VARCHAR(255),
  type VARCHAR(20) DEFAULT 'direct',
  participant_ids UUID[] NOT NULL,
  creator_id UUID REFERENCES users(id) ON DELETE SET NULL,
  last_message_id UUID,
  last_message_sent_at TIMESTAMP,
  status VARCHAR(20) DEFAULT 'active',
  is_encrypted BOOLEAN DEFAULT FALSE,
  metadata JSONB DEFAULT '{}'::jsonb,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create messages table
CREATE TABLE IF NOT EXISTS messages (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  conversation_id UUID REFERENCES conversations(id) ON DELETE CASCADE,
  sender_id UUID REFERENCES users(id) ON DELETE SET NULL,
  content TEXT,
  type VARCHAR(20) DEFAULT 'text',
  reply_to_id UUID REFERENCES messages(id) ON DELETE SET NULL,
  attachments JSONB DEFAULT '[]'::jsonb,
  metadata JSONB DEFAULT '{}'::jsonb,
  status VARCHAR(20) DEFAULT 'sent',
  read_by_user_ids UUID[] DEFAULT '{}',
  deleted_for_user_ids UUID[] DEFAULT '{}',
  sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create content_reports table
CREATE TABLE IF NOT EXISTS content_reports (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  reporter_id UUID REFERENCES users(id) ON DELETE SET NULL,
  content_id UUID NOT NULL,
  content_type VARCHAR(50) NOT NULL,
  content_owner_id UUID REFERENCES users(id) ON DELETE SET NULL,
  type VARCHAR(50) NOT NULL,
  description TEXT,
  status VARCHAR(20) DEFAULT 'pending',
  severity VARCHAR(20) DEFAULT 'medium',
  reviewer_id UUID REFERENCES users(id) ON DELETE SET NULL,
  review_started_at TIMESTAMP,
  review_completed_at TIMESTAMP,
  review_notes TEXT,
  resolution TEXT,
  content_snapshot JSONB,
  metadata JSONB DEFAULT '{}'::jsonb,
  ip_address VARCHAR(50),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create moderation_actions table
CREATE TABLE IF NOT EXISTS moderation_actions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  moderator_id UUID REFERENCES users(id) ON DELETE SET NULL,
  target_user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  content_id UUID,
  content_type VARCHAR(50),
  report_id UUID REFERENCES content_reports(id) ON DELETE SET NULL,
  type VARCHAR(50) NOT NULL,
  reason TEXT NOT NULL,
  status VARCHAR(20) DEFAULT 'pending',
  action_details JSONB DEFAULT '{}'::jsonb,
  expires_at TIMESTAMP,
  reversed_at TIMESTAMP,
  reversed_by UUID REFERENCES users(id) ON DELETE SET NULL,
  reversal_reason TEXT,
  appeal_status VARCHAR(20) DEFAULT 'not_appealed',
  appealed_at TIMESTAMP,
  appealed_reason TEXT,
  appeal_reviewed_at TIMESTAMP,
  appeal_reviewed_by UUID REFERENCES users(id) ON DELETE SET NULL,
  appeal_resolution TEXT,
  notification_sent BOOLEAN DEFAULT FALSE,
  internal BOOLEAN DEFAULT FALSE,
  metadata JSONB DEFAULT '{}'::jsonb,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create activity_logs table
CREATE TABLE IF NOT EXISTS activity_logs (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  type VARCHAR(50) NOT NULL,
  target_id UUID,
  target_type VARCHAR(50),
  metadata JSONB DEFAULT '{}'::jsonb,
  ip_address VARCHAR(50),
  user_agent TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create search_indices table
CREATE TABLE IF NOT EXISTS search_indices (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  content_id UUID NOT NULL,
  content_type VARCHAR(50) NOT NULL,
  title VARCHAR(255) NOT NULL,
  description TEXT,
  content TEXT,
  search_text TEXT NOT NULL,
  owner_id UUID REFERENCES users(id) ON DELETE CASCADE,
  status VARCHAR(20) DEFAULT 'pending',
  last_indexed_at TIMESTAMP,
  tags TEXT[] DEFAULT '{}',
  locations JSONB DEFAULT '[]'::jsonb,
  media_type VARCHAR(50),
  language VARCHAR(20),
  published_at TIMESTAMP,
  weights JSONB DEFAULT '{"relevance":0.5,"recency":0.5,"popularity":0.5,"quality":0.5}'::jsonb,
  metadata JSONB DEFAULT '{}'::jsonb,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(content_id, content_type)
);


===========================================================
FILE 2: 02_users_seed.sql
===========================================================

-- Seed data for users table
-- Password is 'password' hashed with bcrypt

INSERT INTO users (
  id, 
  username, 
  email, 
  password, 
  display_name, 
  first_name, 
  last_name, 
  bio, 
  profile_image, 
  role, 
  is_verified, 
  email_confirmed, 
  created_at, 
  updated_at
)
VALUES
  (
    '11111111-1111-1111-1111-111111111111', 
    'admin', 
    'admin@example.com', 
    '$2a$10$jGw7JSIla9srE4nzLfZ1v.SMy5tGlG9VZCzP8QRwbTJllcnvPYmM.', 
    'Admin User', 
    'Admin', 
    'User', 
    'System administrator', 
    '/images/profiles/admin.jpg', 
    'admin', 
    TRUE, 
    TRUE, 
    NOW(), 
    NOW()
  ),
  (
    '22222222-2222-2222-2222-222222222222', 
    'john_doe', 
    'john@example.com', 
    '$2a$10$jGw7JSIla9srE4nzLfZ1v.SMy5tGlG9VZCzP8QRwbTJllcnvPYmM.', 
    'John Doe', 
    'John', 
    'Doe', 
    'Software engineer and tech enthusiast', 
    '/images/profiles/john.jpg', 
    'user', 
    TRUE, 
    TRUE, 
    NOW(), 
    NOW()
  ),
  (
    '33333333-3333-3333-3333-333333333333', 
    'jane_smith', 
    'jane@example.com', 
    '$2a$10$jGw7JSIla9srE4nzLfZ1v.SMy5tGlG9VZCzP8QRwbTJllcnvPYmM.', 
    'Jane Smith', 
    'Jane', 
    'Smith', 
    'Digital artist and designer', 
    '/images/profiles/jane.jpg', 
    'user', 
    TRUE, 
    TRUE, 
    NOW(), 
    NOW()
  ),
  (
    '44444444-4444-4444-4444-444444444444', 
    'sam_wilson', 
    'sam@example.com', 
    '$2a$10$jGw7JSIla9srE4nzLfZ1v.SMy5tGlG9VZCzP8QRwbTJllcnvPYmM.', 
    'Sam Wilson', 
    'Sam', 
    'Wilson', 
    'Travel blogger and photographer', 
    '/images/profiles/sam.jpg', 
    'user', 
    TRUE, 
    TRUE, 
    NOW(), 
    NOW()
  ),
  (
    '55555555-5555-5555-5555-555555555555', 
    'moderator', 
    'mod@example.com', 
    '$2a$10$jGw7JSIla9srE4nzLfZ1v.SMy5tGlG9VZCzP8QRwbTJllcnvPYmM.', 
    'Content Moderator', 
    'Content', 
    'Moderator', 
    'Community moderator', 
    '/images/profiles/moderator.jpg', 
    'moderator', 
    TRUE, 
    TRUE, 
    NOW(), 
    NOW()
  );


===========================================================
FILE 3: 03_auth_roles_seed.sql
===========================================================

-- Seed data for roles, permissions and role assignments

-- Seed roles
INSERT INTO roles (id, name, description, created_at, updated_at)
VALUES
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    'admin', 
    'Administrator with full system access', 
    NOW(), 
    NOW()
  ),
  (
    'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 
    'moderator', 
    'Content moderator with permission to review and moderate content', 
    NOW(), 
    NOW()
  ),
  (
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    'user', 
    'Regular user with basic permissions', 
    NOW(), 
    NOW()
  );

-- Seed permissions
INSERT INTO permissions (id, name, description, resource, action, created_at, updated_at)
VALUES
  (
    'dddddddd-dddd-dddd-dddd-dddddddddddd', 
    'create_post', 
    'Create posts', 
    'post', 
    'create', 
    NOW(), 
    NOW()
  ),
  (
    'eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 
    'update_post', 
    'Update posts', 
    'post', 
    'update', 
    NOW(), 
    NOW()
  ),
  (
    'ffffffff-ffff-ffff-ffff-ffffffffffff', 
    'delete_post', 
    'Delete posts', 
    'post', 
    'delete', 
    NOW(), 
    NOW()
  ),
  (
    '11111111-aaaa-bbbb-cccc-dddddddddddd', 
    'moderate_content', 
    'Moderate user content', 
    'content', 
    'moderate', 
    NOW(), 
    NOW()
  ),
  (
    '22222222-aaaa-bbbb-cccc-dddddddddddd', 
    'manage_users', 
    'Manage user accounts', 
    'user', 
    'manage', 
    NOW(), 
    NOW()
  ),
  (
    '33333333-aaaa-bbbb-cccc-dddddddddddd', 
    'create_comment', 
    'Create comments', 
    'comment', 
    'create', 
    NOW(), 
    NOW()
  ),
  (
    '44444444-aaaa-bbbb-cccc-dddddddddddd', 
    'upload_media', 
    'Upload media files', 
    'media', 
    'create', 
    NOW(), 
    NOW()
  ),
  (
    '55555555-aaaa-bbbb-cccc-dddddddddddd', 
    'create_group', 
    'Create groups', 
    'group', 
    'create', 
    NOW(), 
    NOW()
  );

-- Seed role permissions (assign permissions to roles)
INSERT INTO role_permissions (role_id, permission_id, created_at, updated_at)
VALUES
  -- Admin has all permissions
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    'dddddddd-dddd-dddd-dddd-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    'eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 
    NOW(), 
    NOW()
  ),
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    'ffffffff-ffff-ffff-ffff-ffffffffffff', 
    NOW(), 
    NOW()
  ),
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    '11111111-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    '22222222-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    '33333333-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    '44444444-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    '55555555-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  
  -- Moderator permissions
  (
    'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 
    'dddddddd-dddd-dddd-dddd-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 
    'eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 
    NOW(), 
    NOW()
  ),
  (
    'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 
    '11111111-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 
    '33333333-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 
    '44444444-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  
  -- Regular user permissions
  (
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    'dddddddd-dddd-dddd-dddd-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    'eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 
    NOW(), 
    NOW()
  ),
  (
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    '33333333-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    '44444444-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  ),
  (
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    '55555555-aaaa-bbbb-cccc-dddddddddddd', 
    NOW(), 
    NOW()
  );

-- Assign roles to users
INSERT INTO user_roles (user_id, role_id, created_at, updated_at)
VALUES
  -- Admin user gets admin role
  (
    '11111111-1111-1111-1111-111111111111', 
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
    NOW(), 
    NOW()
  ),
  -- Moderator gets moderator role
  (
    '55555555-5555-5555-5555-555555555555', 
    'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 
    NOW(), 
    NOW()
  ),
  -- Regular users get user role
  (
    '22222222-2222-2222-2222-222222222222', 
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    NOW(), 
    NOW()
  ),
  (
    '33333333-3333-3333-3333-333333333333', 
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    NOW(), 
    NOW()
  ),
  (
    '44444444-4444-4444-4444-444444444444', 
    'cccccccc-cccc-cccc-cccc-cccccccccccc', 
    NOW(), 
    NOW()
  );


===========================================================
FILE 4: 04_social_seed.sql
===========================================================

-- Seed data for social features (follows, posts, comments, likes)

-- Seed follows
INSERT INTO follows (
  id,
  follower_id, 
  followed_id, 
  is_accepted,
  is_notification_enabled,
  created_at, 
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222', 
    '33333333-3333-3333-3333-333333333333', 
    TRUE,
    TRUE,
    NOW() - INTERVAL '30 day', 
    NOW() - INTERVAL '30 day'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333', 
    '22222222-2222-2222-2222-222222222222', 
    TRUE,
    TRUE,
    NOW() - INTERVAL '28 day', 
    NOW() - INTERVAL '28 day'
  ),
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222', 
    '44444444-4444-4444-4444-444444444444', 
    TRUE,
    TRUE,
    NOW() - INTERVAL '20 day', 
    NOW() - INTERVAL '20 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444', 
    '33333333-3333-3333-3333-333333333333', 
    TRUE,
    TRUE,
    NOW() - INTERVAL '15 day', 
    NOW() - INTERVAL '15 day'
  ),
  (
    uuid_generate_v4(),
    '55555555-5555-5555-5555-555555555555', 
    '22222222-2222-2222-2222-222222222222', 
    TRUE,
    TRUE,
    NOW() - INTERVAL '10 day', 
    NOW() - INTERVAL '10 day'
  ),
  (
    uuid_generate_v4(),
    '11111111-1111-1111-1111-111111111111', 
    '33333333-3333-3333-3333-333333333333', 
    TRUE,
    TRUE,
    NOW() - INTERVAL '5 day', 
    NOW() - INTERVAL '5 day'
  );

-- Seed posts
INSERT INTO posts (
  id, 
  user_id, 
  content, 
  type, 
  status, 
  visibility, 
  like_count, 
  comment_count, 
  share_count, 
  view_count, 
  published_at, 
  created_at, 
  updated_at
)
VALUES
  (
    'aabbccdd-1111-2222-3333-444444444444', 
    '22222222-2222-2222-2222-222222222222', 
    'Just launched my new project! Check it out at example.com', 
    'post', 
    'published', 
    'public', 
    5, 
    3, 
    1, 
    25, 
    NOW() - INTERVAL '14 day', 
    NOW() - INTERVAL '14 day', 
    NOW() - INTERVAL '14 day'
  ),
  (
    'aabbccdd-2222-3333-4444-555555555555', 
    '33333333-3333-3333-3333-333333333333', 
    'Sharing my latest design work. Let me know what you think!', 
    'post', 
    'published', 
    'public', 
    12, 
    7, 
    3, 
    87, 
    NOW() - INTERVAL '10 day', 
    NOW() - INTERVAL '10 day', 
    NOW() - INTERVAL '10 day'
  ),
  (
    'aabbccdd-3333-4444-5555-666666666666', 
    '44444444-4444-4444-4444-444444444444', 
    'Just got back from an amazing trip to Japan. Will post photos soon!', 
    'post', 
    'published', 
    'public', 
    28, 
    15, 
    5, 
    134, 
    NOW() - INTERVAL '7 day', 
    NOW() - INTERVAL '7 day', 
    NOW() - INTERVAL '7 day'
  ),
  (
    'aabbccdd-4444-5555-6666-777777777777', 
    '22222222-2222-2222-2222-222222222222', 
    'Working on a new coding tutorial series. Stay tuned!', 
    'post', 
    'published', 
    'public', 
    9, 
    4, 
    2, 
    56, 
    NOW() - INTERVAL '5 day', 
    NOW() - INTERVAL '5 day', 
    NOW() - INTERVAL '5 day'
  ),
  (
    'aabbccdd-5555-6666-7777-888888888888', 
    '33333333-3333-3333-3333-333333333333', 
    'Here\'s my take on the latest design trends for 2023', 
    'post', 
    'published', 
    'public', 
    17, 
    8, 
    4, 
    95, 
    NOW() - INTERVAL '3 day', 
    NOW() - INTERVAL '3 day', 
    NOW() - INTERVAL '3 day'
  ),
  (
    'aabbccdd-6666-7777-8888-999999999999', 
    '44444444-4444-4444-4444-444444444444', 
    'Excited to announce that I\'ll be speaking at TechConf next month!', 
    'post', 
    'published', 
    'public', 
    31, 
    12, 
    6, 
    142, 
    NOW() - INTERVAL '1 day', 
    NOW() - INTERVAL '1 day', 
    NOW() - INTERVAL '1 day'
  ),
  (
    'aabbccdd-7777-8888-9999-000000000000', 
    '55555555-5555-5555-5555-555555555555', 
    'Community Guidelines Update: Please review our updated community standards on content moderation.', 
    'announcement', 
    'published', 
    'public', 
    14, 
    6, 
    2, 
    205, 
    NOW() - INTERVAL '2 day', 
    NOW() - INTERVAL '2 day', 
    NOW() - INTERVAL '2 day'
  );

-- Seed comments on posts
INSERT INTO comments (
  id, 
  user_id, 
  target_id, 
  target_type, 
  parent_id, 
  content, 
  like_count, 
  reply_count,
  created_at, 
  updated_at
)
VALUES
  (
    'cccc1111-1111-1111-1111-111111111111', 
    '33333333-3333-3333-3333-333333333333', 
    'aabbccdd-1111-2222-3333-444444444444', 
    'post', 
    NULL, 
    'This looks amazing! Can\'t wait to try it out.', 
    2, 
    1,
    NOW() - INTERVAL '13 day', 
    NOW() - INTERVAL '13 day'
  ),
  (
    'cccc2222-2222-2222-2222-222222222222', 
    '44444444-4444-4444-4444-444444444444', 
    'aabbccdd-1111-2222-3333-444444444444', 
    'post', 
    NULL, 
    'Great work! Is this open source?', 
    1, 
    1,
    NOW() - INTERVAL '12 day', 
    NOW() - INTERVAL '12 day'
  ),
  (
    'cccc3333-3333-3333-3333-333333333333', 
    '22222222-2222-2222-2222-222222222222', 
    'aabbccdd-1111-2222-3333-444444444444', 
    'post', 
    'cccc2222-2222-2222-2222-222222222222', 
    'Thanks! Yes, it\'s available on GitHub.', 
    3, 
    0,
    NOW() - INTERVAL '12 day', 
    NOW() - INTERVAL '12 day'
  ),
  (
    'cccc4444-4444-4444-4444-444444444444', 
    '22222222-2222-2222-2222-222222222222', 
    'aabbccdd-2222-3333-4444-555555555555', 
    'post', 
    NULL, 
    'These designs are incredible! What tools do you use?', 
    4, 
    1,
    NOW() - INTERVAL '9 day', 
    NOW() - INTERVAL '9 day'
  ),
  (
    'cccc5555-5555-5555-5555-555555555555', 
    '33333333-3333-3333-3333-333333333333', 
    'aabbccdd-2222-3333-4444-555555555555', 
    'post', 
    'cccc4444-4444-4444-4444-444444444444', 
    'Thanks! I use Figma and Adobe Creative Suite.', 
    2, 
    0,
    NOW() - INTERVAL '9 day', 
    NOW() - INTERVAL '9 day'
  ),
  (
    'cccc6666-6666-6666-6666-666666666666', 
    '33333333-3333-3333-3333-333333333333', 
    'aabbccdd-3333-4444-5555-666666666666', 
    'post', 
    NULL, 
    'Can\'t wait to see the photos! Which cities did you visit?', 
    3, 
    1,
    NOW() - INTERVAL '6 day', 
    NOW() - INTERVAL '6 day'
  ),
  (
    'cccc7777-7777-7777-7777-777777777777', 
    '44444444-4444-4444-4444-444444444444', 
    'aabbccdd-3333-4444-5555-666666666666', 
    'post', 
    'cccc6666-6666-6666-6666-666666666666', 
    'Tokyo, Kyoto, and Osaka! Each one was amazing in its own way.', 
    5, 
    0,
    NOW() - INTERVAL '6 day', 
    NOW() - INTERVAL '6 day'
  ),
  (
    'cccc8888-8888-8888-8888-888888888888', 
    '11111111-1111-1111-1111-111111111111', 
    'aabbccdd-7777-8888-9999-000000000000', 
    'post', 
    NULL, 
    'Thank you for the update. It\'s important to keep our community safe.', 
    7, 
    0,
    NOW() - INTERVAL '1 day', 
    NOW() - INTERVAL '1 day'
  );

-- Seed likes on posts
INSERT INTO likes (
  id,
  user_id, 
  target_id, 
  target_type, 
  created_at, 
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333', 
    'aabbccdd-1111-2222-3333-444444444444', 
    'post', 
    NOW() - INTERVAL '13 day', 
    NOW() - INTERVAL '13 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444', 
    'aabbccdd-1111-2222-3333-444444444444', 
    'post', 
    NOW() - INTERVAL '12 day', 
    NOW() - INTERVAL '12 day'
  ),
  (
    uuid_generate_v4(),
    '55555555-5555-5555-5555-555555555555', 
    'aabbccdd-1111-2222-3333-444444444444', 
    'post', 
    NOW() - INTERVAL '11 day', 
    NOW() - INTERVAL '11 day'
  ),
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222', 
    'aabbccdd-2222-3333-4444-555555555555', 
    'post', 
    NOW() - INTERVAL '9 day', 
    NOW() - INTERVAL '9 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444', 
    'aabbccdd-2222-3333-4444-555555555555', 
    'post', 
    NOW() - INTERVAL '8 day', 
    NOW() - INTERVAL '8 day'
  ),
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222', 
    'aabbccdd-3333-4444-5555-666666666666', 
    'post', 
    NOW() - INTERVAL '6 day', 
    NOW() - INTERVAL '6 day'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333', 
    'aabbccdd-3333-4444-5555-666666666666', 
    'post', 
    NOW() - INTERVAL '5 day', 
    NOW() - INTERVAL '5 day'
  ),
  (
    uuid_generate_v4(),
    '11111111-1111-1111-1111-111111111111', 
    'aabbccdd-7777-8888-9999-000000000000', 
    'post', 
    NOW() - INTERVAL '1 day', 
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222', 
    'aabbccdd-7777-8888-9999-000000000000', 
    'post', 
    NOW() - INTERVAL '1 day', 
    NOW() - INTERVAL '1 day'
  );

-- Seed comment likes
INSERT INTO comment_likes (
  id,
  user_id, 
  comment_id, 
  created_at, 
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222', 
    'cccc1111-1111-1111-1111-111111111111', 
    NOW() - INTERVAL '12 day', 
    NOW() - INTERVAL '12 day'
  ),
  (
    uuid_generate_v4(),
    '55555555-5555-5555-5555-555555555555', 
    'cccc1111-1111-1111-1111-111111111111', 
    NOW() - INTERVAL '11 day', 
    NOW() - INTERVAL '11 day'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333', 
    'cccc2222-2222-2222-2222-222222222222', 
    NOW() - INTERVAL '11 day', 
    NOW() - INTERVAL '11 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444', 
    'cccc3333-3333-3333-3333-333333333333', 
    NOW() - INTERVAL '11 day', 
    NOW() - INTERVAL '11 day'
  ),
  (
    uuid_generate_v4(),
    '55555555-5555-5555-5555-555555555555', 
    'cccc3333-3333-3333-3333-333333333333', 
    NOW() - INTERVAL '11 day', 
    NOW() - INTERVAL '11 day'
  ),
  (
    uuid_generate_v4(),
    '11111111-1111-1111-1111-111111111111', 
    'cccc3333-3333-3333-3333-333333333333', 
    NOW() - INTERVAL '10 day', 
    NOW() - INTERVAL '10 day'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333', 
    'cccc4444-4444-4444-4444-444444444444', 
    NOW() - INTERVAL '8 day', 
    NOW() - INTERVAL '8 day'
  );

-- Seed hashtags
INSERT INTO hashtags (
  id,
  tag, 
  normalized_tag, 
  usage_count, 
  is_trending, 
  recent_usage_count, 
  category, 
  created_at, 
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    'coding', 
    'coding', 
    42, 
    TRUE, 
    15, 
    'technology', 
    NOW() - INTERVAL '60 day', 
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'webdev', 
    'webdev', 
    78, 
    TRUE, 
    28, 
    'technology', 
    NOW() - INTERVAL '90 day', 
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'design', 
    'design', 
    56, 
    TRUE, 
    20, 
    'creative', 
    NOW() - INTERVAL '45 day', 
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'travel', 
    'travel', 
    92, 
    TRUE, 
    34, 
    'lifestyle', 
    NOW() - INTERVAL '120 day', 
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'japan', 
    'japan', 
    38, 
    TRUE, 
    12, 
    'travel', 
    NOW() - INTERVAL '30 day', 
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'photography', 
    'photography', 
    67, 
    TRUE, 
    19, 
    'creative', 
    NOW() - INTERVAL '75 day', 
    NOW() - INTERVAL '1 day'
  );


===========================================================
FILE 5: 05_media_seed.sql
===========================================================

-- Seed data for media and related tables

-- Seed media items
INSERT INTO media (
  id,
  user_id,
  title,
  description,
  type,
  original_filename,
  filename,
  path,
  mime_type,
  size,
  width,
  height,
  processing_status,
  is_public,
  created_at,
  updated_at
)
VALUES
  (
    'media1111-1111-1111-1111-111111111111',
    '33333333-3333-3333-3333-333333333333',
    'Design Portfolio Cover',
    'Cover image for my design portfolio',
    'image',
    'portfolio_cover.jpg',
    'abcdef123456.jpg',
    '/uploads/images/2023/05/abcdef123456.jpg',
    'image/jpeg',
    1245678,
    1920,
    1080,
    'completed',
    TRUE,
    NOW() - INTERVAL '30 day',
    NOW() - INTERVAL '30 day'
  ),
  (
    'media2222-2222-2222-2222-222222222222',
    '33333333-3333-3333-3333-333333333333',
    'UI Design Mockup',
    'Mobile app UI design mockup',
    'image',
    'ui_mockup.png',
    'def123456789.png',
    '/uploads/images/2023/05/def123456789.png',
    'image/png',
    2345678,
    1280,
    720,
    'completed',
    TRUE,
    NOW() - INTERVAL '25 day',
    NOW() - INTERVAL '25 day'
  ),
  (
    'media3333-3333-3333-3333-333333333333',
    '44444444-4444-4444-4444-444444444444',
    'Tokyo Skyline',
    'View of the Tokyo skyline at sunset',
    'image',
    'tokyo_skyline.jpg',
    'fed987654321.jpg',
    '/uploads/images/2023/06/fed987654321.jpg',
    'image/jpeg',
    3456789,
    2048,
    1365,
    'completed',
    TRUE,
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day'
  ),
  (
    'media4444-4444-4444-4444-444444444444',
    '44444444-4444-4444-4444-444444444444',
    'Kyoto Temple Tour',
    'Video tour of temples in Kyoto',
    'video',
    'kyoto_temples.mp4',
    'abc123xyz456.mp4',
    '/uploads/videos/2023/06/abc123xyz456.mp4',
    'video/mp4',
    78901234,
    1920,
    1080,
    'completed',
    TRUE,
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day'
  ),
  (
    'media5555-5555-5555-5555-555555555555',
    '22222222-2222-2222-2222-222222222222',
    'Coding Tutorial Thumbnail',
    'Thumbnail for my JavaScript tutorial series',
    'image',
    'js_tutorial_thumb.png',
    'js_thumb_123456.png',
    '/uploads/images/2023/06/js_thumb_123456.png',
    'image/png',
    567890,
    1280,
    720,
    'completed',
    TRUE,
    NOW() - INTERVAL '5 day',
    NOW() - INTERVAL '5 day'
  ),
  (
    'media6666-6666-6666-6666-666666666666',
    '22222222-2222-2222-2222-222222222222',
    'Code Snippet Demo',
    'Screen recording of code demo',
    'video',
    'code_demo.mp4',
    'code_demo_123.mp4',
    '/uploads/videos/2023/07/code_demo_123.mp4',
    'video/mp4',
    45678901,
    1920,
    1080,
    'completed',
    TRUE,
    NOW() - INTERVAL '3 day',
    NOW() - INTERVAL '3 day'
  );

-- Seed media collections
INSERT INTO media_collections (
  id,
  user_id,
  title,
  description,
  type,
  privacy,
  cover_media_id,
  media_ids,
  item_count,
  is_official,
  created_at,
  updated_at
)
VALUES
  (
    'coll1111-1111-1111-1111-111111111111',
    '33333333-3333-3333-3333-333333333333',
    'Design Portfolio',
    'Collection of my design work',
    'gallery',
    'public',
    'media1111-1111-1111-1111-111111111111',
    '["media1111-1111-1111-1111-111111111111", "media2222-2222-2222-2222-222222222222"]',
    2,
    FALSE,
    NOW() - INTERVAL '25 day',
    NOW() - INTERVAL '25 day'
  ),
  (
    'coll2222-2222-2222-2222-222222222222',
    '44444444-4444-4444-4444-444444444444',
    'Japan Travel',
    'Photos and videos from my trip to Japan',
    'gallery',
    'public',
    'media3333-3333-3333-3333-333333333333',
    '["media3333-3333-3333-3333-333333333333", "media4444-4444-4444-4444-444444444444"]',
    2,
    FALSE,
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day'
  ),
  (
    'coll3333-3333-3333-3333-333333333333',
    '22222222-2222-2222-2222-222222222222',
    'Coding Tutorials',
    'Assets for my coding tutorial series',
    'folder',
    'private',
    'media5555-5555-5555-5555-555555555555',
    '["media5555-5555-5555-5555-555555555555", "media6666-6666-6666-6666-666666666666"]',
    2,
    FALSE,
    NOW() - INTERVAL '3 day',
    NOW() - INTERVAL '3 day'
  );

-- Seed media tags
INSERT INTO media_tags (
  id,
  name,
  slug,
  description,
  category,
  is_official,
  usage_count,
  created_at,
  updated_at
)
VALUES
  (
    'tag11111-1111-1111-1111-111111111111',
    'UI Design',
    'ui-design',
    'User interface design assets',
    'design',
    TRUE,
    42,
    NOW() - INTERVAL '90 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    'tag22222-2222-2222-2222-222222222222',
    'Mobile App',
    'mobile-app',
    'Mobile application design and development',
    'development',
    TRUE,
    35,
    NOW() - INTERVAL '85 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    'tag33333-3333-3333-3333-333333333333',
    'Japan',
    'japan',
    'Content related to Japan',
    'travel',
    TRUE,
    28,
    NOW() - INTERVAL '80 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    'tag44444-4444-4444-4444-444444444444',
    'Landscape Photography',
    'landscape-photography',
    'Landscape photography content',
    'photography',
    TRUE,
    45,
    NOW() - INTERVAL '75 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    'tag55555-5555-5555-5555-555555555555',
    'JavaScript',
    'javascript',
    'JavaScript programming language',
    'development',
    TRUE,
    67,
    NOW() - INTERVAL '70 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    'tag66666-6666-6666-6666-666666666666',
    'Tutorial',
    'tutorial',
    'Educational and tutorial content',
    'education',
    TRUE,
    82,
    NOW() - INTERVAL '65 day',
    NOW() - INTERVAL '1 day'
  );


===========================================================
FILE 6: 06_conversations_seed.sql
===========================================================

-- Seed data for messaging (conversations and messages)

-- Seed conversations
INSERT INTO conversations (
  id,
  title,
  type,
  participant_ids,
  creator_id,
  status,
  is_encrypted,
  created_at,
  updated_at
)
VALUES
  (
    'conv1111-1111-1111-1111-111111111111',
    NULL,
    'direct',
    ARRAY['22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333'],
    '22222222-2222-2222-2222-222222222222',
    'active',
    FALSE,
    NOW() - INTERVAL '20 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    'conv2222-2222-2222-2222-222222222222',
    NULL,
    'direct',
    ARRAY['22222222-2222-2222-2222-222222222222', '44444444-4444-4444-4444-444444444444'],
    '44444444-4444-4444-4444-444444444444',
    'active',
    FALSE,
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '2 day'
  ),
  (
    'conv3333-3333-3333-3333-333333333333',
    'Project Collaboration',
    'group',
    ARRAY['22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', '44444444-4444-4444-4444-444444444444'],
    '22222222-2222-2222-2222-222222222222',
    'active',
    FALSE,
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '3 day'
  ),
  (
    'conv4444-4444-4444-4444-444444444444',
    NULL,
    'direct',
    ARRAY['33333333-3333-3333-3333-333333333333', '44444444-4444-4444-4444-444444444444'],
    '33333333-3333-3333-3333-333333333333',
    'active',
    FALSE,
    NOW() - INTERVAL '8 day',
    NOW() - INTERVAL '4 day'
  ),
  (
    'conv5555-5555-5555-5555-555555555555',
    'Content Moderation Team',
    'group',
    ARRAY['11111111-1111-1111-1111-111111111111', '55555555-5555-5555-5555-555555555555', '22222222-2222-2222-2222-222222222222'],
    '11111111-1111-1111-1111-111111111111',
    'active',
    FALSE,
    NOW() - INTERVAL '30 day',
    NOW() - INTERVAL '2 day'
  );

-- Seed messages
INSERT INTO messages (
  id,
  conversation_id,
  sender_id,
  content,
  type,
  status,
  sent_at,
  created_at,
  updated_at
)
VALUES
  (
    'msg11111-1111-1111-1111-111111111111',
    'conv1111-1111-1111-1111-111111111111',
    '22222222-2222-2222-2222-222222222222',
    'Hey Jane, how''s your design project coming along?',
    'text',
    'sent',
    NOW() - INTERVAL '19 day',
    NOW() - INTERVAL '19 day',
    NOW() - INTERVAL '19 day'
  ),
  (
    'msg22222-2222-2222-2222-222222222222',
    'conv1111-1111-1111-1111-111111111111',
    '33333333-3333-3333-3333-333333333333',
    'Going well! I''m almost done with the UI mockups. Will share them soon!',
    'text',
    'sent',
    NOW() - INTERVAL '19 day',
    NOW() - INTERVAL '19 day',
    NOW() - INTERVAL '19 day'
  ),
  (
    'msg33333-3333-3333-3333-333333333333',
    'conv1111-1111-1111-1111-111111111111',
    '22222222-2222-2222-2222-222222222222',
    'Great! Looking forward to seeing them.',
    'text',
    'sent',
    NOW() - INTERVAL '19 day',
    NOW() - INTERVAL '19 day',
    NOW() - INTERVAL '19 day'
  ),
  (
    'msg44444-4444-4444-4444-444444444444',
    'conv1111-1111-1111-1111-111111111111',
    '33333333-3333-3333-3333-333333333333',
    'Just finished the mockups! Check them out!',
    'text',
    'sent',
    NOW() - INTERVAL '1 day',
    NOW() - INTERVAL '1 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    'msg55555-5555-5555-5555-555555555555',
    'conv2222-2222-2222-2222-222222222222',
    '44444444-4444-4444-4444-444444444444',
    'John, I''m planning a photography trip. Any gear recommendations?',
    'text',
    'sent',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day'
  ),
  (
    'msg66666-6666-6666-6666-666666666666',
    'conv2222-2222-2222-2222-222222222222',
    '22222222-2222-2222-2222-222222222222',
    'Definitely! For travel, I''d recommend a lightweight mirrorless camera.',
    'text',
    'sent',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day'
  ),
  (
    'msg77777-7777-7777-7777-777777777777',
    'conv2222-2222-2222-2222-222222222222',
    '44444444-4444-4444-4444-444444444444',
    'Any specific brands you''d suggest?',
    'text',
    'sent',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day'
  ),
  (
    'msg88888-8888-8888-8888-888888888888',
    'conv2222-2222-2222-2222-222222222222',
    '22222222-2222-2222-2222-222222222222',
    'Sony Alpha or Fujifilm X series are both excellent choices.',
    'text',
    'sent',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day'
  ),
  (
    'msg99999-9999-9999-9999-999999999999',
    'conv2222-2222-2222-2222-222222222222',
    '44444444-4444-4444-4444-444444444444',
    'Thanks! I''ll check those out.',
    'text',
    'sent',
    NOW() - INTERVAL '14 day',
    NOW() - INTERVAL '14 day',
    NOW() - INTERVAL '14 day'
  ),
  (
    'msg00000-0000-0000-0000-000000000000',
    'conv2222-2222-2222-2222-222222222222',
    '44444444-4444-4444-4444-444444444444',
    'I got the Sony Alpha! Here''s a sample shot from my backyard.',
    'text',
    'sent',
    NOW() - INTERVAL '2 day',
    NOW() - INTERVAL '2 day',
    NOW() - INTERVAL '2 day'
  ),
  (
    'msga1111-1111-1111-1111-111111111111',
    'conv3333-3333-3333-3333-333333333333',
    '22222222-2222-2222-2222-222222222222',
    'I''ve created this group for our collaboration on the new project.',
    'text',
    'sent',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day'
  ),
  (
    'msga2222-2222-2222-2222-222222222222',
    'conv3333-3333-3333-3333-333333333333',
    '33333333-3333-3333-3333-333333333333',
    'Great idea! I''ll handle the design part.',
    'text',
    'sent',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day'
  ),
  (
    'msga3333-3333-3333-3333-333333333333',
    'conv3333-3333-3333-3333-333333333333',
    '44444444-4444-4444-4444-444444444444',
    'And I''ll take care of the photography and visual content.',
    'text',
    'sent',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day'
  ),
  (
    'msga4444-4444-4444-4444-444444444444',
    'conv3333-3333-3333-3333-333333333333',
    '22222222-2222-2222-2222-222222222222',
    'Perfect! Let''s meet tomorrow to discuss the details.',
    'text',
    'sent',
    NOW() - INTERVAL '9 day',
    NOW() - INTERVAL '9 day',
    NOW() - INTERVAL '9 day'
  ),
  (
    'msga5555-5555-5555-5555-555555555555',
    'conv3333-3333-3333-3333-333333333333',
    '33333333-3333-3333-3333-333333333333',
    'I''ve started working on some initial mockups. Will share by tomorrow.',
    'text',
    'sent',
    NOW() - INTERVAL '3 day',
    NOW() - INTERVAL '3 day',
    NOW() - INTERVAL '3 day'
  ),
  (
    'msga6666-6666-6666-6666-666666666666',
    'conv5555-5555-5555-5555-555555555555',
    '11111111-1111-1111-1111-111111111111',
    'We need to update our content moderation guidelines. Any suggestions?',
    'text',
    'sent',
    NOW() - INTERVAL '30 day',
    NOW() - INTERVAL '30 day',
    NOW() - INTERVAL '30 day'
  ),
  (
    'msga7777-7777-7777-7777-777777777777',
    'conv5555-5555-5555-5555-555555555555',
    '55555555-5555-5555-5555-555555555555',
    'I think we should focus on clarifying the hate speech policies.',
    'text',
    'sent',
    NOW() - INTERVAL '29 day',
    NOW() - INTERVAL '29 day',
    NOW() - INTERVAL '29 day'
  ),
  (
    'msga8888-8888-8888-8888-888888888888',
    'conv5555-5555-5555-5555-555555555555',
    '22222222-2222-2222-2222-222222222222',
    'From a user perspective, I think clearer examples would help.',
    'text',
    'sent',
    NOW() - INTERVAL '28 day',
    NOW() - INTERVAL '28 day',
    NOW() - INTERVAL '28 day'
  ),
  (
    'msga9999-9999-9999-9999-999999999999',
    'conv5555-5555-5555-5555-555555555555',
    '11111111-1111-1111-1111-111111111111',
    'Good points. I''ll draft an update with both of those suggestions.',
    'text',
    'sent',
    NOW() - INTERVAL '27 day',
    NOW() - INTERVAL '27 day',
    NOW() - INTERVAL '27 day'
  ),
  (
    'msgb1111-1111-1111-1111-111111111111',
    'conv5555-5555-5555-5555-555555555555',
    '11111111-1111-1111-1111-111111111111',
    'The updated guidelines are now live. Thanks for your input!',
    'text',
    'sent',
    NOW() - INTERVAL '2 day',
    NOW() - INTERVAL '2 day',
    NOW() - INTERVAL '2 day'
  );

-- Update conversations with last message information
UPDATE conversations 
SET 
  last_message_id = 'msg44444-4444-4444-4444-444444444444',
  last_message_sent_at = NOW() - INTERVAL '1 day'
WHERE id = 'conv1111-1111-1111-1111-111111111111';

UPDATE conversations 
SET 
  last_message_id = 'msg00000-0000-0000-0000-000000000000',
  last_message_sent_at = NOW() - INTERVAL '2 day'
WHERE id = 'conv2222-2222-2222-2222-222222222222';

UPDATE conversations 
SET 
  last_message_id = 'msga5555-5555-5555-5555-555555555555',
  last_message_sent_at = NOW() - INTERVAL '3 day'
WHERE id = 'conv3333-3333-3333-3333-333333333333';

UPDATE conversations 
SET 
  last_message_id = 'msgb1111-1111-1111-1111-111111111111',
  last_message_sent_at = NOW() - INTERVAL '2 day'
WHERE id = 'conv5555-5555-5555-5555-555555555555';


===========================================================
FILE 7: 07_groups_seed.sql
===========================================================

-- Seed data for groups and group members

-- Seed groups
INSERT INTO groups (
  id,
  name,
  slug,
  description,
  image_url,
  banner_url,
  owner_id,
  visibility,
  status,
  rules,
  member_count,
  created_at,
  updated_at
)
VALUES
  (
    'group111-1111-1111-1111-111111111111',
    'Web Developers Network',
    'web-developers-network',
    'A community for web developers to share knowledge, resources, and opportunities.',
    '/images/groups/webdev.jpg',
    '/images/banners/webdev-banner.jpg',
    '22222222-2222-2222-2222-222222222222',
    'public',
    'active',
    '1. Be respectful and professional.
2. No spam or self-promotion.
3. Share valuable content related to web development.',
    3,
    NOW() - INTERVAL '45 day',
    NOW() - INTERVAL '45 day'
  ),
  (
    'group222-2222-2222-2222-222222222222',
    'UI/UX Design Community',
    'ui-ux-design-community',
    'A group for UI/UX designers to collaborate, share work, and get feedback.',
    '/images/groups/design.jpg',
    '/images/banners/design-banner.jpg',
    '33333333-3333-3333-3333-333333333333',
    'public',
    'active',
    '1. Be constructive when providing feedback.
2. Share your work and insights.
3. Respect intellectual property.',
    3,
    NOW() - INTERVAL '40 day',
    NOW() - INTERVAL '40 day'
  ),
  (
    'group333-3333-3333-3333-333333333333',
    'Travel Photography',
    'travel-photography',
    'Share your travel photography and get inspired for your next adventure.',
    '/images/groups/travel.jpg',
    '/images/banners/travel-banner.jpg',
    '44444444-4444-4444-4444-444444444444',
    'public',
    'active',
    '1. Only share your original photos.
2. Include location information when possible.
3. Be respectful of different cultures and viewpoints.',
    3,
    NOW() - INTERVAL '35 day',
    NOW() - INTERVAL '35 day'
  ),
  (
    'group444-4444-4444-4444-444444444444',
    'Platform Moderators',
    'platform-moderators',
    'Private group for platform moderators to coordinate content moderation efforts.',
    '/images/groups/mods.jpg',
    '/images/banners/mods-banner.jpg',
    '11111111-1111-1111-1111-111111111111',
    'private',
    'active',
    '1. All discussions in this group are confidential.
2. Follow the moderation guidelines.
3. Report any issues to admin immediately.',
    2,
    NOW() - INTERVAL '60 day',
    NOW() - INTERVAL '60 day'
  );

-- Seed group members
INSERT INTO group_members (
  id,
  group_id,
  user_id,
  role,
  status,
  notification_settings,
  last_activity,
  created_at,
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    'group111-1111-1111-1111-111111111111',
    '22222222-2222-2222-2222-222222222222',
    'admin',
    'approved',
    '{"posts": true, "comments": true, "events": true}',
    NOW() - INTERVAL '1 day',
    NOW() - INTERVAL '45 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'group111-1111-1111-1111-111111111111',
    '33333333-3333-3333-3333-333333333333',
    'member',
    'approved',
    '{"posts": true, "comments": true, "events": true}',
    NOW() - INTERVAL '2 day',
    NOW() - INTERVAL '40 day',
    NOW() - INTERVAL '2 day'
  ),
  (
    uuid_generate_v4(),
    'group111-1111-1111-1111-111111111111',
    '44444444-4444-4444-4444-444444444444',
    'member',
    'approved',
    '{"posts": true, "comments": true, "events": false}',
    NOW() - INTERVAL '5 day',
    NOW() - INTERVAL '35 day',
    NOW() - INTERVAL '5 day'
  ),
  (
    uuid_generate_v4(),
    'group222-2222-2222-2222-222222222222',
    '33333333-3333-3333-3333-333333333333',
    'admin',
    'approved',
    '{"posts": true, "comments": true, "events": true}',
    NOW() - INTERVAL '1 day',
    NOW() - INTERVAL '40 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'group222-2222-2222-2222-222222222222',
    '22222222-2222-2222-2222-222222222222',
    'member',
    'approved',
    '{"posts": true, "comments": true, "events": true}',
    NOW() - INTERVAL '3 day',
    NOW() - INTERVAL '38 day',
    NOW() - INTERVAL '3 day'
  ),
  (
    uuid_generate_v4(),
    'group222-2222-2222-2222-222222222222',
    '44444444-4444-4444-4444-444444444444',
    'member',
    'approved',
    '{"posts": true, "comments": false, "events": false}',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '32 day',
    NOW() - INTERVAL '10 day'
  ),
  (
    uuid_generate_v4(),
    'group333-3333-3333-3333-333333333333',
    '44444444-4444-4444-4444-444444444444',
    'admin',
    'approved',
    '{"posts": true, "comments": true, "events": true}',
    NOW() - INTERVAL '2 day',
    NOW() - INTERVAL '35 day',
    NOW() - INTERVAL '2 day'
  ),
  (
    uuid_generate_v4(),
    'group333-3333-3333-3333-333333333333',
    '22222222-2222-2222-2222-222222222222',
    'member',
    'approved',
    '{"posts": true, "comments": true, "events": false}',
    NOW() - INTERVAL '4 day',
    NOW() - INTERVAL '30 day',
    NOW() - INTERVAL '4 day'
  ),
  (
    uuid_generate_v4(),
    'group333-3333-3333-3333-333333333333',
    '33333333-3333-3333-3333-333333333333',
    'member',
    'approved',
    '{"posts": true, "comments": true, "events": true}',
    NOW() - INTERVAL '6 day',
    NOW() - INTERVAL '28 day',
    NOW() - INTERVAL '6 day'
  ),
  (
    uuid_generate_v4(),
    'group444-4444-4444-4444-444444444444',
    '11111111-1111-1111-1111-111111111111',
    'admin',
    'approved',
    '{"posts": true, "comments": true, "events": true}',
    NOW() - INTERVAL '1 day',
    NOW() - INTERVAL '60 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'group444-4444-4444-4444-444444444444',
    '55555555-5555-5555-5555-555555555555',
    'moderator',
    'approved',
    '{"posts": true, "comments": true, "events": true}',
    NOW() - INTERVAL '2 day',
    NOW() - INTERVAL '58 day',
    NOW() - INTERVAL '2 day'
  );


===========================================================
FILE 8: 08_moderation_seed.sql
===========================================================

-- Seed data for content moderation (reports and actions)

-- Seed content reports
INSERT INTO content_reports (
  id,
  reporter_id,
  content_id,
  content_type,
  content_owner_id,
  type,
  description,
  status,
  severity,
  reviewer_id,
  review_started_at,
  review_completed_at,
  review_notes,
  resolution,
  created_at,
  updated_at
)
VALUES
  (
    'report11-1111-1111-1111-111111111111',
    '22222222-2222-2222-2222-222222222222',
    'cccc6666-6666-6666-6666-666666666666', -- comment ID
    'comment',
    '33333333-3333-3333-3333-333333333333',
    'SPAM',
    'This comment contains irrelevant promotional content.',
    'resolved',
    'low',
    '55555555-5555-5555-5555-555555555555',
    NOW() - INTERVAL '7 hour',
    NOW() - INTERVAL '6 hour',
    'Reviewed the comment and found promotional content not related to the discussion.',
    'Comment warning issued. No removal needed, but added a note to the user.',
    NOW() - INTERVAL '8 hour',
    NOW() - INTERVAL '6 hour'
  ),
  (
    'report22-2222-2222-2222-222222222222',
    '33333333-3333-3333-3333-333333333333',
    'aabbccdd-6666-7777-8888-999999999999', -- post ID
    'post',
    '44444444-4444-4444-4444-444444444444',
    'COPYRIGHT',
    'This post contains copyrighted material that belongs to my company.',
    'pending',
    'medium',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NOW() - INTERVAL '4 hour',
    NOW() - INTERVAL '4 hour'
  ),
  (
    'report33-3333-3333-3333-333333333333',
    '44444444-4444-4444-4444-444444444444',
    'media4444-4444-4444-4444-444444444444', -- media ID
    'media',
    '44444444-4444-4444-4444-444444444444',
    'OTHER',
    'I accidentally uploaded this video with personal information visible. Please remove it.',
    'resolved',
    'high',
    '11111111-1111-1111-1111-111111111111',
    NOW() - INTERVAL '3 hour',
    NOW() - INTERVAL '2 hour',
    'Verified user identity and confirmed ownership of content.',
    'Media removed as requested by the owner.',
    NOW() - INTERVAL '4 hour',
    NOW() - INTERVAL '2 hour'
  ),
  (
    'report44-4444-4444-4444-444444444444',
    '11111111-1111-1111-1111-111111111111',
    'msga9999-9999-9999-9999-999999999999', -- message ID
    'message',
    '11111111-1111-1111-1111-111111111111',
    'HARASSMENT',
    'This message contains targeted harassment.',
    'in_review',
    'critical',
    '55555555-5555-5555-5555-555555555555',
    NOW() - INTERVAL '1 hour',
    NULL,
    'Investigating the report and reviewing message content.',
    NULL,
    NOW() - INTERVAL '2 hour',
    NOW() - INTERVAL '1 hour'
  );

-- Seed moderation actions
INSERT INTO moderation_actions (
  id,
  moderator_id,
  target_user_id,
  content_id,
  content_type,
  report_id,
  type,
  reason,
  status,
  action_details,
  created_at,
  updated_at
)
VALUES
  (
    'action11-1111-1111-1111-111111111111',
    '55555555-5555-5555-5555-555555555555',
    '33333333-3333-3333-3333-333333333333',
    'cccc6666-6666-6666-6666-666666666666',
    'comment',
    'report11-1111-1111-1111-111111111111',
    'WARNING',
    'Promotional content in comments violates community guidelines.',
    'APPLIED',
    '{"warningMessage": "Please refrain from posting promotional content in comments.", "visibleToUser": true}',
    NOW() - INTERVAL '6 hour',
    NOW() - INTERVAL '6 hour'
  ),
  (
    'action22-2222-2222-2222-222222222222',
    '11111111-1111-1111-1111-111111111111',
    '44444444-4444-4444-4444-444444444444',
    'media4444-4444-4444-4444-444444444444',
    'media',
    'report33-3333-3333-3333-333333333333',
    'CONTENT_REMOVAL',
    'Content removed at owner\'s request due to personal information.',
    'APPLIED',
    '{"removalNote": "Media removed at your request due to personal information exposure.", "visibleToUser": true, "permanentRemoval": true}',
    NOW() - INTERVAL '2 hour',
    NOW() - INTERVAL '2 hour'
  );

-- Seed activity logs
INSERT INTO activity_logs (
  id,
  user_id,
  type,
  target_id,
  target_type,
  metadata,
  ip_address,
  user_agent,
  created_at
)
VALUES
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222',
    'USER_LOGIN',
    NULL,
    NULL,
    '{"device": "desktop", "browser": "Chrome"}',
    '192.168.1.1',
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36',
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333',
    'POST_CREATED',
    'aabbccdd-2222-3333-4444-555555555555',
    'post',
    '{"postType": "standard"}',
    '192.168.1.2',
    'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36',
    NOW() - INTERVAL '10 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444',
    'MEDIA_UPLOADED',
    'media3333-3333-3333-3333-333333333333',
    'media',
    '{"mediaType": "image", "fileSize": 3456789}',
    '192.168.1.3',
    'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1',
    NOW() - INTERVAL '15 day'
  ),
  (
    uuid_generate_v4(),
    '11111111-1111-1111-1111-111111111111',
    'USER_LOGIN',
    NULL,
    NULL,
    '{"device": "desktop", "browser": "Firefox"}',
    '192.168.1.4',
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:95.0) Gecko/20100101 Firefox/95.0',
    NOW() - INTERVAL '2 day'
  ),
  (
    uuid_generate_v4(),
    '55555555-5555-5555-5555-555555555555',
    'NOTIFICATION_CLICKED',
    'action11-1111-1111-1111-111111111111',
    'moderation_action',
    '{"notificationType": "system"}',
    '192.168.1.5',
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36',
    NOW() - INTERVAL '6 hour'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333',
    'POST_LIKED',
    'aabbccdd-3333-4444-5555-666666666666',
    'post',
    '{}',
    '192.168.1.2',
    'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36',
    NOW() - INTERVAL '5 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444',
    'GROUP_JOINED',
    'group222-2222-2222-2222-222222222222',
    'group',
    '{"role": "member"}',
    '192.168.1.3',
    'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1',
    NOW() - INTERVAL '32 day'
  ),
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222',
    'SEARCH_PERFORMED',
    NULL,
    NULL,
    '{"query": "javascript tutorial", "resultCount": 24}',
    '192.168.1.1',
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36',
    NOW() - INTERVAL '3 day'
  );


===========================================================
FILE 9: 09_notifications_bookmarks_seed.sql
===========================================================

-- Seed data for notifications and bookmarks

-- Seed notifications
INSERT INTO notifications (
  id,
  type,
  user_id,
  actor_id,
  entity_id,
  entity_type,
  content,
  read,
  delivered,
  created_at,
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    'LIKE',
    '22222222-2222-2222-2222-222222222222',
    '33333333-3333-3333-3333-333333333333',
    'aabbccdd-1111-2222-3333-444444444444',
    'post',
    'Jane Smith liked your post',
    TRUE,
    TRUE,
    NOW() - INTERVAL '13 day',
    NOW() - INTERVAL '13 day'
  ),
  (
    uuid_generate_v4(),
    'COMMENT',
    '22222222-2222-2222-2222-222222222222',
    '33333333-3333-3333-3333-333333333333',
    'cccc1111-1111-1111-1111-111111111111',
    'comment',
    'Jane Smith commented on your post: "This looks amazing! Can\'t wait to try it out."',
    TRUE,
    TRUE,
    NOW() - INTERVAL '13 day',
    NOW() - INTERVAL '13 day'
  ),
  (
    uuid_generate_v4(),
    'FOLLOW',
    '33333333-3333-3333-3333-333333333333',
    '22222222-2222-2222-2222-222222222222',
    NULL,
    NULL,
    'John Doe started following you',
    TRUE,
    TRUE,
    NOW() - INTERVAL '30 day',
    NOW() - INTERVAL '30 day'
  ),
  (
    uuid_generate_v4(),
    'COMMENT',
    '33333333-3333-3333-3333-333333333333',
    '22222222-2222-2222-2222-222222222222',
    'cccc4444-4444-4444-4444-444444444444',
    'comment',
    'John Doe commented on your post: "These designs are incredible! What tools do you use?"',
    TRUE,
    TRUE,
    NOW() - INTERVAL '9 day',
    NOW() - INTERVAL '9 day'
  ),
  (
    uuid_generate_v4(),
    'MENTION',
    '44444444-4444-4444-4444-444444444444',
    '22222222-2222-2222-2222-222222222222',
    'aabbccdd-4444-5555-6666-777777777777',
    'post',
    'John Doe mentioned you in a post',
    TRUE,
    TRUE,
    NOW() - INTERVAL '5 day',
    NOW() - INTERVAL '5 day'
  ),
  (
    uuid_generate_v4(),
    'LIKE',
    '44444444-4444-4444-4444-444444444444',
    '22222222-2222-2222-2222-222222222222',
    'aabbccdd-3333-4444-5555-666666666666',
    'post',
    'John Doe liked your post',
    TRUE,
    TRUE,
    NOW() - INTERVAL '6 day',
    NOW() - INTERVAL '6 day'
  ),
  (
    uuid_generate_v4(),
    'SYSTEM',
    '33333333-3333-3333-3333-333333333333',
    NULL,
    'action11-1111-1111-1111-111111111111',
    'moderation_action',
    'Your comment has been flagged for promotional content. Please review our community guidelines.',
    TRUE,
    TRUE,
    NOW() - INTERVAL '6 hour',
    NOW() - INTERVAL '6 hour'
  ),
  (
    uuid_generate_v4(),
    'MESSAGE',
    '33333333-3333-3333-3333-333333333333',
    '22222222-2222-2222-2222-222222222222',
    'msg44444-4444-4444-4444-444444444444',
    'message',
    'You have a new message from John Doe',
    FALSE,
    TRUE,
    NOW() - INTERVAL '1 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    uuid_generate_v4(),
    'LIKE',
    '33333333-3333-3333-3333-333333333333',
    '44444444-4444-4444-4444-444444444444',
    'aabbccdd-2222-3333-4444-555555555555',
    'post',
    'Sam Wilson liked your post',
    FALSE,
    TRUE,
    NOW() - INTERVAL '8 day',
    NOW() - INTERVAL '8 day'
  ),
  (
    uuid_generate_v4(),
    'FOLLOW',
    '44444444-4444-4444-4444-444444444444',
    '33333333-3333-3333-3333-333333333333',
    NULL,
    NULL,
    'Jane Smith started following you',
    FALSE,
    TRUE,
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '15 day'
  );

-- Seed bookmarks
INSERT INTO bookmarks (
  id,
  user_id,
  entity_id,
  entity_type,
  notes,
  collection_id,
  created_at,
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222',
    'aabbccdd-2222-3333-4444-555555555555',
    'post',
    'Great design ideas to reference later',
    NULL,
    NOW() - INTERVAL '9 day',
    NOW() - INTERVAL '9 day'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333',
    'aabbccdd-4444-5555-6666-777777777777',
    'post',
    'Interesting coding tutorial series, check back for updates',
    NULL,
    NOW() - INTERVAL '4 day',
    NOW() - INTERVAL '4 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444',
    'aabbccdd-1111-2222-3333-444444444444',
    'post',
    'Interesting project, might be useful reference',
    NULL,
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '10 day'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333',
    'media6666-6666-6666-6666-666666666666',
    'media',
    'Good code demo for learning',
    NULL,
    NOW() - INTERVAL '2 day',
    NOW() - INTERVAL '2 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444',
    'media2222-2222-2222-2222-222222222222',
    'media',
    'UI design inspiration',
    NULL,
    NOW() - INTERVAL '20 day',
    NOW() - INTERVAL '20 day'
  ),
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222',
    'group222-2222-2222-2222-222222222222',
    'group',
    'Great design community to stay active in',
    NULL,
    NOW() - INTERVAL '38 day',
    NOW() - INTERVAL '38 day'
  );


===========================================================
FILE 10: 10_search_indices_seed.sql
===========================================================

-- Seed data for search indices

-- Seed search indices for posts
INSERT INTO search_indices (
  id,
  content_id,
  content_type,
  title,
  description,
  content,
  search_text,
  owner_id,
  status,
  last_indexed_at,
  tags,
  language,
  published_at,
  weights,
  created_at,
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    'aabbccdd-1111-2222-3333-444444444444',
    'post',
    'New Project Launch',
    'Launch announcement for a new project',
    'Just launched my new project! Check it out at example.com',
    'new project launch just launched my new project check it out at example com',
    '22222222-2222-2222-2222-222222222222',
    'indexed',
    NOW() - INTERVAL '13 day',
    ARRAY['project', 'launch', 'coding'],
    'en',
    NOW() - INTERVAL '14 day',
    '{"relevance": 0.75, "recency": 0.65, "popularity": 0.58, "quality": 0.80}',
    NOW() - INTERVAL '14 day',
    NOW() - INTERVAL '13 day'
  ),
  (
    uuid_generate_v4(),
    'aabbccdd-2222-3333-4444-555555555555',
    'post',
    'Design Work Showcase',
    'Sharing latest design work',
    'Sharing my latest design work. Let me know what you think!',
    'design work showcase sharing my latest design work let me know what you think',
    '33333333-3333-3333-3333-333333333333',
    'indexed',
    NOW() - INTERVAL '9 day',
    ARRAY['design', 'showcase', 'ui', 'ux'],
    'en',
    NOW() - INTERVAL '10 day',
    '{"relevance": 0.82, "recency": 0.70, "popularity": 0.65, "quality": 0.85}',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '9 day'
  ),
  (
    uuid_generate_v4(),
    'aabbccdd-3333-4444-5555-666666666666',
    'post',
    'Japan Travel Update',
    'Travel update from Japan trip',
    'Just got back from an amazing trip to Japan. Will post photos soon!',
    'japan travel update just got back from an amazing trip to japan will post photos soon',
    '44444444-4444-4444-4444-444444444444',
    'indexed',
    NOW() - INTERVAL '6 day',
    ARRAY['travel', 'japan', 'photography'],
    'en',
    NOW() - INTERVAL '7 day',
    '{"relevance": 0.78, "recency": 0.85, "popularity": 0.90, "quality": 0.75}',
    NOW() - INTERVAL '7 day',
    NOW() - INTERVAL '6 day'
  ),
  (
    uuid_generate_v4(),
    'aabbccdd-4444-5555-6666-777777777777',
    'post',
    'Coding Tutorial Announcement',
    'Announcement about new coding tutorial series',
    'Working on a new coding tutorial series. Stay tuned!',
    'coding tutorial announcement working on a new coding tutorial series stay tuned',
    '22222222-2222-2222-2222-222222222222',
    'indexed',
    NOW() - INTERVAL '4 day',
    ARRAY['coding', 'tutorial', 'programming', 'javascript'],
    'en',
    NOW() - INTERVAL '5 day',
    '{"relevance": 0.80, "recency": 0.88, "popularity": 0.60, "quality": 0.82}',
    NOW() - INTERVAL '5 day',
    NOW() - INTERVAL '4 day'
  ),
  (
    uuid_generate_v4(),
    'aabbccdd-5555-6666-7777-888888888888',
    'post',
    '2023 Design Trends',
    'Analysis of design trends for 2023',
    'Here\'s my take on the latest design trends for 2023',
    '2023 design trends heres my take on the latest design trends for 2023',
    '33333333-3333-3333-3333-333333333333',
    'indexed',
    NOW() - INTERVAL '2 day',
    ARRAY['design', 'trends', '2023', 'analysis'],
    'en',
    NOW() - INTERVAL '3 day',
    '{"relevance": 0.85, "recency": 0.92, "popularity": 0.75, "quality": 0.88}',
    NOW() - INTERVAL '3 day',
    NOW() - INTERVAL '2 day'
  );

-- Seed search indices for users
INSERT INTO search_indices (
  id,
  content_id,
  content_type,
  title,
  description,
  search_text,
  owner_id,
  status,
  last_indexed_at,
  tags,
  language,
  published_at,
  weights,
  created_at,
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    '22222222-2222-2222-2222-222222222222',
    'user',
    'John Doe',
    'Software engineer and tech enthusiast',
    'john doe software engineer tech enthusiast coding programming web development',
    '22222222-2222-2222-2222-222222222222',
    'indexed',
    NOW() - INTERVAL '30 day',
    ARRAY['developer', 'engineer', 'tech'],
    'en',
    NOW() - INTERVAL '31 day',
    '{"relevance": 0.75, "recency": 0.60, "popularity": 0.70, "quality": 0.80}',
    NOW() - INTERVAL '31 day',
    NOW() - INTERVAL '30 day'
  ),
  (
    uuid_generate_v4(),
    '33333333-3333-3333-3333-333333333333',
    'user',
    'Jane Smith',
    'Digital artist and designer',
    'jane smith digital artist designer ui ux graphic design creative',
    '33333333-3333-3333-3333-333333333333',
    'indexed',
    NOW() - INTERVAL '30 day',
    ARRAY['designer', 'artist', 'creative'],
    'en',
    NOW() - INTERVAL '31 day',
    '{"relevance": 0.78, "recency": 0.60, "popularity": 0.75, "quality": 0.85}',
    NOW() - INTERVAL '31 day',
    NOW() - INTERVAL '30 day'
  ),
  (
    uuid_generate_v4(),
    '44444444-4444-4444-4444-444444444444',
    'user',
    'Sam Wilson',
    'Travel blogger and photographer',
    'sam wilson travel blogger photographer adventure wanderlust photography',
    '44444444-4444-4444-4444-444444444444',
    'indexed',
    NOW() - INTERVAL '30 day',
    ARRAY['travel', 'photography', 'blogger'],
    'en',
    NOW() - INTERVAL '31 day',
    '{"relevance": 0.72, "recency": 0.60, "popularity": 0.80, "quality": 0.75}',
    NOW() - INTERVAL '31 day',
    NOW() - INTERVAL '30 day'
  );

-- Seed search indices for groups
INSERT INTO search_indices (
  id,
  content_id,
  content_type,
  title,
  description,
  search_text,
  owner_id,
  status,
  last_indexed_at,
  tags,
  language,
  published_at,
  weights,
  created_at,
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    'group111-1111-1111-1111-111111111111',
    'group',
    'Web Developers Network',
    'A community for web developers to share knowledge, resources, and opportunities.',
    'web developers network community web developers share knowledge resources opportunities coding programming development',
    '22222222-2222-2222-2222-222222222222',
    'indexed',
    NOW() - INTERVAL '44 day',
    ARRAY['webdev', 'coding', 'development', 'community'],
    'en',
    NOW() - INTERVAL '45 day',
    '{"relevance": 0.85, "recency": 0.60, "popularity": 0.75, "quality": 0.80}',
    NOW() - INTERVAL '45 day',
    NOW() - INTERVAL '44 day'
  ),
  (
    uuid_generate_v4(),
    'group222-2222-2222-2222-222222222222',
    'group',
    'UI/UX Design Community',
    'A group for UI/UX designers to collaborate, share work, and get feedback.',
    'ui ux design community group designers collaborate share work feedback design interface user experience',
    '33333333-3333-3333-3333-333333333333',
    'indexed',
    NOW() - INTERVAL '39 day',
    ARRAY['design', 'ui', 'ux', 'community'],
    'en',
    NOW() - INTERVAL '40 day',
    '{"relevance": 0.82, "recency": 0.60, "popularity": 0.72, "quality": 0.85}',
    NOW() - INTERVAL '40 day',
    NOW() - INTERVAL '39 day'
  ),
  (
    uuid_generate_v4(),
    'group333-3333-3333-3333-333333333333',
    'group',
    'Travel Photography',
    'Share your travel photography and get inspired for your next adventure.',
    'travel photography share travel photography inspired next adventure photos images landscapes destinations',
    '44444444-4444-4444-4444-444444444444',
    'indexed',
    NOW() - INTERVAL '34 day',
    ARRAY['travel', 'photography', 'adventure'],
    'en',
    NOW() - INTERVAL '35 day',
    '{"relevance": 0.80, "recency": 0.60, "popularity": 0.78, "quality": 0.75}',
    NOW() - INTERVAL '35 day',
    NOW() - INTERVAL '34 day'
  );

-- Seed search indices for media
INSERT INTO search_indices (
  id,
  content_id,
  content_type,
  title,
  description,
  search_text,
  owner_id,
  status,
  last_indexed_at,
  tags,
  media_type,
  language,
  published_at,
  weights,
  created_at,
  updated_at
)
VALUES
  (
    uuid_generate_v4(),
    'media1111-1111-1111-1111-111111111111',
    'media',
    'Design Portfolio Cover',
    'Cover image for my design portfolio',
    'design portfolio cover image design portfolio cover graphic art',
    '33333333-3333-3333-3333-333333333333',
    'indexed',
    NOW() - INTERVAL '29 day',
    ARRAY['design', 'portfolio', 'cover'],
    'image',
    'en',
    NOW() - INTERVAL '30 day',
    '{"relevance": 0.70, "recency": 0.60, "popularity": 0.65, "quality": 0.85}',
    NOW() - INTERVAL '30 day',
    NOW() - INTERVAL '29 day'
  ),
  (
    uuid_generate_v4(),
    'media3333-3333-3333-3333-333333333333',
    'media',
    'Tokyo Skyline',
    'View of the Tokyo skyline at sunset',
    'tokyo skyline view tokyo skyline sunset japan photography travel',
    '44444444-4444-4444-4444-444444444444',
    'indexed',
    NOW() - INTERVAL '14 day',
    ARRAY['tokyo', 'skyline', 'japan', 'travel'],
    'image',
    'en',
    NOW() - INTERVAL '15 day',
    '{"relevance": 0.75, "recency": 0.78, "popularity": 0.70, "quality": 0.88}',
    NOW() - INTERVAL '15 day',
    NOW() - INTERVAL '14 day'
  ),
  (
    uuid_generate_v4(),
    'media4444-4444-4444-4444-444444444444',
    'media',
    'Kyoto Temple Tour',
    'Video tour of temples in Kyoto',
    'kyoto temple tour video tour temples kyoto japan travel vlog',
    '44444444-4444-4444-4444-444444444444',
    'indexed',
    NOW() - INTERVAL '9 day',
    ARRAY['kyoto', 'temple', 'japan', 'travel', 'video'],
    'video',
    'en',
    NOW() - INTERVAL '10 day',
    '{"relevance": 0.85, "recency": 0.82, "popularity": 0.75, "quality": 0.90}',
    NOW() - INTERVAL '10 day',
    NOW() - INTERVAL '9 day'
  ),
  (
    uuid_generate_v4(),
    'media5555-5555-5555-5555-555555555555',
    'media',
    'Coding Tutorial Thumbnail',
    'Thumbnail for my JavaScript tutorial series',
    'coding tutorial thumbnail javascript tutorial series programming web development',
    '22222222-2222-2222-2222-222222222222',
    'indexed',
    NOW() - INTERVAL '4 day',
    ARRAY['coding', 'javascript', 'tutorial', 'programming'],
    'image',
    'en',
    NOW() - INTERVAL '5 day',
    '{"relevance": 0.72, "recency": 0.88, "popularity": 0.65, "quality": 0.80}',
    NOW() - INTERVAL '5 day',
    NOW() - INTERVAL '4 day'
  );


===========================================================
FILE 11: clear_data.sh
===========================================================

#!/bin/bash

# Configuration
DB_NAME="${DB_NAME:-abe_social}"
DB_USER="${DB_USER:-postgres}"
DB_HOST="${DB_HOST:-localhost}"
DB_PORT="${DB_PORT:-5432}"
DB_PASSWORD="${DB_PASSWORD:-postgres}"

# Display configuration
echo "Database configuration:"
echo "  Name: $DB_NAME"
echo "  User: $DB_USER"
echo "  Host: $DB_HOST"
echo "  Port: $DB_PORT"
echo "  Password: Using provided password or default"

# Function to execute SQL
function execute_sql() {
  PGPASSWORD="$DB_PASSWORD" psql -h "$DB_HOST" -p "$DB_PORT" -U "$DB_USER" -d "$DB_NAME" -c "$1"
}

echo "Clearing data from all tables in $DB_NAME database..."

# Disable foreign key constraints temporarily
execute_sql "SET session_replication_role = 'replica';"

# Get list of tables and truncate them
# This command gets all tables except for migrations table (if you want to preserve migration history)
tables=$(PGPASSWORD="$DB_PASSWORD" psql -h "$DB_HOST" -p "$DB_PORT" -U "$DB_USER" -d "$DB_NAME" -t -c "SELECT tablename FROM pg_tables WHERE schemaname = 'public' AND tablename != 'migrations';")

for table in $tables; do
  echo "Truncating table: $table"
  execute_sql "TRUNCATE TABLE \"$table\" CASCADE;"
done

# Re-enable foreign key constraints
execute_sql "SET session_replication_role = 'origin';"

echo "All tables have been cleared while preserving the schema."
echo "The database is now empty and ready for development." 


===========================================================
FILE 12: run_seed.sh
===========================================================

#!/bin/bash
# Script to run all seed files in the correct order

# Database connection details
# Replace these with your actual database connection details
DB_NAME="your_database_name"
DB_USER="your_database_user"
DB_PASSWORD="your_database_password"
DB_HOST="localhost"
DB_PORT="5432"

# Function to run SQL file
run_sql_file() {
  echo "Running $1..."
  PGPASSWORD=$DB_PASSWORD psql -h $DB_HOST -p $DB_PORT -U $DB_USER -d $DB_NAME -f $1
  if [ $? -eq 0 ]; then
    echo "Successfully executed $1"
  else
    echo "Error executing $1"
    exit 1
  fi
}

# Create directory for logs
mkdir -p logs

# Run schema first
run_sql_file "01_schema.sql" > logs/01_schema.log 2>&1

# Run seed files in order
run_sql_file "02_users_seed.sql" > logs/02_users_seed.log 2>&1
run_sql_file "03_auth_roles_seed.sql" > logs/03_auth_roles_seed.log 2>&1
run_sql_file "04_social_seed.sql" > logs/04_social_seed.log 2>&1
run_sql_file "05_media_seed.sql" > logs/05_media_seed.log 2>&1
run_sql_file "06_conversations_seed.sql" > logs/06_conversations_seed.log 2>&1
run_sql_file "07_groups_seed.sql" > logs/07_groups_seed.log 2>&1
run_sql_file "08_moderation_seed.sql" > logs/08_moderation_seed.log 2>&1
run_sql_file "09_notifications_bookmarks_seed.sql" > logs/09_notifications_bookmarks_seed.log 2>&1
run_sql_file "10_search_indices_seed.sql" > logs/10_search_indices_seed.log 2>&1

echo "All seed files have been executed."
echo "Check logs directory for detailed output."


