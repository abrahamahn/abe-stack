# =============================================================================
# ABE STACK - .env.development
# =============================================================================

# =============================================================================
# Package Manager
# =============================================================================
PACKAGE_MANAGER_PROVIDER=pnpm  # options: pnpm | npm | yarn
NPM_AUDIT=true
NPM_LEGACY_PEER_DEPS=false
NPM_REGISTRY=https://registry.npmjs.org/
PNPM_STRICT_PEER_DEPS=true
PNPM_FROZEN_LOCKFILE=true
PNPM_REGISTRY=https://registry.npmjs.org/
YARN_AUDIT=true
YARN_FROZEN_LOCKFILE=true
YARN_REGISTRY=https://registry.npmjs.org/

# =============================================================================
# Application
# =============================================================================
NODE_ENV=development  # options: development | production | test
APP_PORT=5173
API_PORT=8080
APP_BASE_URL=http://localhost:5173
API_BASE_URL=http://localhost:8080
APP_URL=http://localhost:5173
HOST=0.0.0.0
PORT=8080
LOG_LEVEL=info  # options: trace | debug | info | warn | error | fatal
MAINTENANCE_MODE=false

# =============================================================================
# Frontend (Vite)
# =============================================================================
VITE_API_URL=http://localhost:8080
VITE_APP_NAME=bslt-web

# =============================================================================
# CORS / Proxy
# =============================================================================
CORS_ORIGIN=http://localhost:5173
TRUST_PROXY=false  # options: true | false
TRUSTED_PROXIES=172.16.0.0/12,10.0.0.0/8
MAX_PROXY_DEPTH=1

# =============================================================================
# Auth / Security
# =============================================================================
JWT_SECRET=this_is_a_development_secret_that_is_long_enough_for_development_purposes
JWT_SECRET_PREVIOUS=
JWT_ISSUER=bslt
JWT_AUDIENCE=bslt-api
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY_DAYS=7
REFRESH_TOKEN_GRACE_PERIOD=30
COOKIE_SECRET=2jPf_x42yWXT1CWqvy-GApfhIiQy8dOVeH6IvQFIgWuf-2cwN65ktbFm5-_c6PgO
SESSION_SECRET=jkoCEnsDlxwFbmj_hfCpkp_S9_ikdAK9agRURfGvhJyD1Wg9MWT-Rwv4ALOcsncM
AUTH_BFF_MODE=true  # options: true | false
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_LENGTH=24
PASSWORD_MIN_SCORE=3
LOCKOUT_MAX_ATTEMPTS=10
LOCKOUT_DURATION_MS=1800000
MAGIC_LINK_EXPIRY_MINUTES=15
MAGIC_LINK_MAX_ATTEMPTS=3
TOTP_ISSUER=BSLT
TOTP_WINDOW=1

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=1000
RATE_LIMIT_CLEANUP_INTERVAL_MS=60000
RATE_LIMIT_PROGRESSIVE_DELAY_ENABLED=false  # options: true | false
RATE_LIMIT_BASE_DELAY_MS=1000
RATE_LIMIT_MAX_DELAY_MS=10000

# =============================================================================
# Provider Switches
# =============================================================================
DATABASE_PROVIDER=postgresql  # options: postgresql | sqlite | mongodb | json
STORAGE_PROVIDER=local  # options: local | s3
QUEUE_PROVIDER=local  # options: local | redis
SEARCH_PROVIDER=sql  # options: sql | elasticsearch
EMAIL_PROVIDER=console  # options: console | smtp | api
BILLING_PROVIDER=stripe  # options: stripe | paypal
NOTIFICATIONS_PROVIDER=onesignal  # options: onesignal | fcm | courier
CACHE_PROVIDER=local  # options: local | redis
AUTH_STRATEGIES=local  # options: local | oauth | magic-link (comma-separated)

# =============================================================================
# Database
# =============================================================================
DATABASE_URL=postgresql://postgres:development@localhost:5432/bslt_dev
POSTGRES_CONNECTION_STRING=
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=bslt_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=development
DB_MAX_CONNECTIONS=10
DB_SSL=false  # options: true | false
JSON_DB_PATH=.data/db.json
JSON_DB_PERSIST_ON_WRITE=true

# =============================================================================
# Cache / Redis
# =============================================================================
CACHE_USE_REDIS=false  # options: true | false
CACHE_TTL_MS=300000
CACHE_MAX_SIZE=1000
REDIS_HOST=localhost
REDIS_PORT=6379

# =============================================================================
# Queue
# =============================================================================
QUEUE_POLL_INTERVAL_MS=1000
QUEUE_CONCURRENCY=5
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_BASE_MS=1000
QUEUE_MAX_BACKOFF_MS=300000

# =============================================================================
# Storage
# =============================================================================
STORAGE_ROOT_PATH=main/apps/server/uploads
STORAGE_PUBLIC_BASE_URL=http://localhost:8080/uploads
S3_BUCKET=my-bucket
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_ENDPOINT=https://s3.us-east-1.amazonaws.com
S3_FORCE_PATH_STYLE=false  # options: true | false
S3_PRESIGN_EXPIRES_IN_SECONDS=3600

# =============================================================================
# Email
# =============================================================================
EMAIL_API_KEY=
EMAIL_FROM_NAME=BSLT
EMAIL_FROM_ADDRESS=noreply@example.com
EMAIL_REPLY_TO=noreply@example.com
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false  # options: true | false
SMTP_USER=
SMTP_PASS=
SMTP_CONNECTION_TIMEOUT=5000
SMTP_SOCKET_TIMEOUT=30000

# =============================================================================
# OAuth Providers
# =============================================================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:8080/api/auth/oauth/google/callback
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:8080/api/auth/oauth/github/callback
FACEBOOK_CLIENT_ID=
FACEBOOK_CLIENT_SECRET=
FACEBOOK_CALLBACK_URL=http://localhost:8080/api/auth/oauth/facebook/callback
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_CALLBACK_URL=http://localhost:8080/api/auth/oauth/microsoft/callback
MICROSOFT_TENANT_ID=common
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_PRIVATE_KEY=
APPLE_PRIVATE_KEY_BASE64=
APPLE_CALLBACK_URL=http://localhost:8080/api/auth/oauth/apple/callback

# =============================================================================
# Notifications
# =============================================================================
ONESIGNAL_APP_ID=
ONESIGNAL_REST_API_KEY=
ONESIGNAL_USER_AUTH_KEY=
ONESIGNAL_ENABLE_LOGGING=false  # options: true | false

# =============================================================================
# Billing
# =============================================================================
BILLING_CURRENCY=usd
BILLING_PORTAL_RETURN_URL=http://localhost:5173/settings/billing
BILLING_CHECKOUT_SUCCESS_URL=http://localhost:5173/billing/success
BILLING_CHECKOUT_CANCEL_URL=http://localhost:5173/pricing
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=sandbox  # options: sandbox | production
PAYPAL_WEBHOOK_ID=
PLAN_FREE_ID=plan_free
PLAN_PRO_ID=plan_pro
PLAN_ENTERPRISE_ID=plan_enterprise

# =============================================================================
# Search
# =============================================================================
SQL_SEARCH_DEFAULT_PAGE_SIZE=50
SQL_SEARCH_MAX_PAGE_SIZE=1000
SQL_SEARCH_MAX_QUERY_DEPTH=5
SQL_SEARCH_MAX_CONDITIONS=20
SQL_SEARCH_LOGGING=false  # options: true | false
SQL_SEARCH_TIMEOUT_MS=5000
